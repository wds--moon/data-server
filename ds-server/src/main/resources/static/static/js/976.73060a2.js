(self.webpackChunkdm_webapp=self.webpackChunkdm_webapp||[]).push([[976],{15976:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",[r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择分类标签",multiple:"",clearable:"",filterable:""},model:{value:e.searchObj.label,callback:function(t){e.$set(e.searchObj,"label",t)},expression:"searchObj.label"}},e._l(e.labels,(function(e){return r("el-option",{key:e,attrs:{value:e}})})),1)],1),e._v(" "),r("el-form-item",[r("el-input",{attrs:{type:"text",placeholder:"名称或描述",clearable:""},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"svc",params:{id:"new"}})}}},[e._v("\n        新增服务\n      ")])],1)],1),e._v(" "),r("ele-data-tables",{ref:"table",attrs:{ajax:e.tableUrl,"server-params":e.searchObj}},[r("el-table-column",{attrs:{prop:"name",label:"服务名称"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("router-link",{attrs:{to:{name:"svcView",params:{svcId:n.id}}}},[e._v(e._s(n.name))]),e._v(" \n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"服务标签"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row.labels;return void 0===n&&(n=[]),e._l(n,(function(t){return r("span",{key:t,staticStyle:{border:"solid 1px lawngreen","margin-right":"5px"}},[e._v("\n          "+e._s(t)+"\n        ")])}))}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"description",label:"服务描述"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("router-link",{attrs:{to:{name:"svc",params:{id:n.id}}}},[e._v("编辑")]),e._v(" \n        "),r("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.delSvc(n)}}},[e._v("删除")])]}}])})],1)],1)};n._withStripped=!0;var a,l=r(56739),o=r(20144),s=r(93459),c=r(54671),i=r(8078),u=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e,t,r,n){var a,l=arguments.length,o=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(l<3?a(o):l>3?a(t,r,o):a(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},f=(0,s.uD)("svc"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tableUrl=c.Z.svc,t.searchObj={},t.labels=[],t}return u(t,e),t.prototype.created=function(){var e=this;this.listLabels().then((function(t){var r=t.data.content;return e.labels=r}))},t.prototype.delSvc=function(e){var t=this;return this.$confirm("此操作将永久删除该服务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return i.ZP.delete(c.Z.svc+"/"+e.id)})).then((function(){t.$refs.table.reloadData(),t.$message({type:"success",message:"删除成功!"})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},p([f.Action("listLabels")],t.prototype,"listLabels",void 0),p([l.wA],t)}(o.default),v=(0,r(51900).Z)(b,n,[],!1,null,null,null);v.options.__file="src/modules/ds/views/SvcList.vue";var d=v.exports}}]);